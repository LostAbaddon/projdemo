(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0332dfb6"],{1734:function(e,t,n){"use strict";n("cb9e")},1802:function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),r=Object(c["D"])("data-v-d4673a2c");Object(c["t"])("data-v-d4673a2c");var s={class:"container"},a=Object(c["h"])("div",{class:"topMargin"},null,-1),i={class:"backer"},o=Object(c["g"])("位置："),u=Object(c["g"])(" / "),l={key:0,class:"content"},b={class:"serviceCategory"},d={class:"subtitle"},h={key:0,class:"serviceCategory"},v=Object(c["h"])("div",{class:"subtitle"},"我提交的咨询",-1),j={class:"requestItem"},O={class:"cate"},f=Object(c["h"])("span",{class:"hint"},"业务类型：",-1),m={class:"ctx"},p=Object(c["h"])("span",{class:"hint"},"咨询业务内容：",-1),g=Object(c["h"])("br",null,null,-1),y={class:"stamp"},q={key:1,class:"serviceCategory"},w=Object(c["h"])("div",{class:"subtitle"},"已回复的咨询",-1),k={class:"requestItem"},R={class:"cate"},x=Object(c["h"])("span",{class:"hint"},"业务类型：",-1),S={class:"ctx"},C=Object(c["h"])("span",{class:"hint"},"咨询业务内容：",-1),_=Object(c["h"])("br",null,null,-1),I={class:"ctx"},E=Object(c["h"])("span",{class:"hint"},"咨询回复：",-1),M=Object(c["h"])("br",null,null,-1),A={class:"stamp"},L={class:"vice"},$={key:1,class:"content"},z={class:"title"},D={class:"context"},H={class:"content"},F={key:1,class:"userRequest"},Q=Object(c["h"])("div",{class:"sepline"},null,-1),N=Object(c["h"])("div",{class:"hinttitle"},"提交业务咨询",-1),P=Object(c["h"])("div",{class:"sepline"},null,-1),T={class:"userName"},B=Object(c["h"])("span",{class:"hint"},"当前用户：",-1),U={class:"userCompany"},J=Object(c["h"])("span",{class:"hint"},"所属公司：",-1),W={class:"requestArea"},G=Object(c["h"])("span",{class:"hint"},"咨询详情：",-1),K={ref:"RequestDetail",class:"editor",contenteditable:"true"},V={class:"submitArea"};Object(c["r"])();var X,Y=r((function(e,t,n,r,X,Y){var Z=Object(c["x"])("HomeMenu"),ee=Object(c["x"])("FootMark"),te=Object(c["x"])("QRCode");return Object(c["q"])(),Object(c["d"])(c["a"],null,[Object(c["h"])(Z,{email:X.companyEmail,mustFix:!0},null,8,["email"]),Object(c["h"])("div",s,[a,Object(c["h"])("div",i,[o,Object(c["h"])("span",{onClick:t[1]||(t[1]=function(){return Y.backHome&&Y.backHome.apply(Y,arguments)})},"首页"),u,Object(c["h"])("span",{onClick:t[2]||(t[2]=function(){return Y.backService&&Y.backService.apply(Y,arguments)})},"业务咨询")]),X.showService?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("div",l,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(X.services,(function(e){return Object(c["q"])(),Object(c["d"])("div",b,[Object(c["h"])("div",d,Object(c["z"])(e.name),1),(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(e.list,(function(e){return Object(c["q"])(),Object(c["d"])("div",{class:"listitem",onClick:function(t){return Y.goService(e.id)}},Object(c["z"])(e.name),9,["onClick"])})),256))])})),256)),X.notdoneRequest.length>0?(Object(c["q"])(),Object(c["d"])("div",h,[v,(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(X.notdoneRequest,(function(e){return Object(c["q"])(),Object(c["d"])("div",j,[Object(c["h"])("div",O,[f,Object(c["g"])(Object(c["z"])(e.category),1)]),Object(c["h"])("div",m,[p,g,Object(c["g"])(Object(c["z"])(e.content),1)]),Object(c["h"])("div",y,Object(c["z"])(e.submitAt),1)])})),256))])):Object(c["e"])("",!0),X.doneRequest.length>0?(Object(c["q"])(),Object(c["d"])("div",q,[w,(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(X.doneRequest,(function(e){return Object(c["q"])(),Object(c["d"])("div",k,[Object(c["h"])("div",R,[x,Object(c["g"])(Object(c["z"])(e.category),1)]),Object(c["h"])("div",S,[C,_,Object(c["g"])(Object(c["z"])(e.content),1)]),Object(c["h"])("div",I,[E,M,Object(c["g"])(Object(c["z"])(e.reply),1)]),Object(c["h"])("div",A,[Object(c["g"])(Object(c["z"])(e.replyAt)+" ",1),Object(c["h"])("span",L,"("+Object(c["z"])(e.submitAt)+")",1)])])})),256))])):Object(c["e"])("",!0)])),X.showService?(Object(c["q"])(),Object(c["d"])("div",$,[Object(c["h"])("div",z,Object(c["z"])(X.detailTitle),1),Object(c["h"])("div",D,Object(c["z"])(X.detailContent),1)])):Object(c["e"])("",!0),Object(c["h"])("div",H,[X.needLogin?(Object(c["q"])(),Object(c["d"])("div",{key:0,class:"login",onClick:t[3]||(t[3]=function(){return Y.login&&Y.login.apply(Y,arguments)})},"登录")):Object(c["e"])("",!0),X.needLogin?Object(c["e"])("",!0):(Object(c["q"])(),Object(c["d"])("div",F,[Q,N,P,Object(c["h"])("div",T,[B,Object(c["g"])(Object(c["z"])(X.userName),1)]),Object(c["h"])("div",U,[J,Object(c["g"])(Object(c["z"])(X.userCompany),1)]),Object(c["h"])("div",W,[G,Object(c["h"])("div",K,null,512)]),Object(c["h"])("div",V,[Object(c["h"])("button",{onClick:t[4]||(t[4]=function(){return Y.submitRequest&&Y.submitRequest.apply(Y,arguments)})},"提交")])]))])]),Object(c["h"])(ee),Object(c["h"])(te)],64)})),Z=n("1da1"),ee=(n("96cf"),n("4c53"),n("a434"),n("4160"),n("159b"),n("4e82"),n("99af"),n("58c9")),te=n("3904"),ne=n("91c7");EventMetro.sub("signin",(function(e,t,n){X&&X.onLogin(e,t,n)}));var ce={name:"Services",components:{HomeMenu:ee["a"],FootMark:te["a"],QRCode:ne["a"]},data:function(){return{companyEmail:"",services:[],serviceName:{},detailTitle:"",detailContent:"",userCompany:"",userName:"",showService:!1,currentService:"",needLogin:!0,doneRequest:[],notdoneRequest:[]}},mounted:function(){X=this;var e=this.$route.query||"",t=e.hash,n=e.item,c=!1;t?c=sessionStorage.get("visit-services-"+t)||!1:(c=!0,t=""),n?this.goService(n):this.getServiceInfo(t,c)},unmounted:function(){X=null},methods:{getServiceInfo:function(e,t){var n=this;return Object(Z["a"])(regeneratorRuntime.mark((function c(){var r,s,a,i;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n.currentService="",n.showService=!1,n.services.splice(0,n.services.length),r=localStorage.get("sessionID")||"",n.showUserInfo(r),c.next=7,BackEnd.getServiceInfo(e,t,r);case 7:if(s=c.sent,s){c.next=10;break}return c.abrupt("return");case 10:for(i in n.companyEmail=s.company.email,a={},s.service.forEach((function(e){n.serviceName[e.id]=e.name;var t=a[e.type];t||(t=[],a[e.type]=t),t.push(e)})),a)n.services.push({name:i,list:a[i]});n.showMyRequest(s.mine);case 15:case"end":return c.stop()}}),c)})))()},goService:function(e){var t=this;return Object(Z["a"])(regeneratorRuntime.mark((function n(){var c,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.currentService=e,t.showService=!0,t.services.splice(0,t.services.length),c=localStorage.get("sessionID")||"",t.showUserInfo(c),n.next=7,BackEnd.getServiceDetail(e);case 7:r=n.sent,t.detailTitle=r.name,t.detailContent=r.detail;case 10:case"end":return n.stop()}}),n)})))()},showUserInfo:function(e){var t=this;return Object(Z["a"])(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.needLogin=!0,n.next=3,BackEnd.getUserInfo(e);case 3:c=n.sent,c.name?(t.needLogin=!1,t.userName=c.name,t.userCompany=c.company):t.needLogin=!0;case 5:case"end":return n.stop()}}),n)})))()},showMyRequest:function(e){var t,n,c=this,r=[],s=[];e.forEach((function(e){e.category=c.serviceName[e.category]||e.category||"未指定类型",e.submitAt=stamp2string(e.submitAt),e.replyAt=stamp2string(e.replyAt),e.done?s.push(e):r.push(e)})),r.sort((function(e,t){return t.submitAt-e.submitAt})),s.sort((function(e,t){return t.replyAt-e.replyAt})),(t=this.notdoneRequest).splice.apply(t,[0,this.notdoneRequest.length].concat(r)),(n=this.doneRequest).splice.apply(n,[0,this.doneRequest.length].concat(s))},backHome:function(){var e=this.$route.query.hash||"";this.$router.push({path:"/",query:{hash:e}})},backService:function(){this.currentService&&this.getServiceInfo("",!0)},login:function(){EventMetro.pub("show_login")},onLogin:function(e,t,n){this.needLogin=!1,this.userName=t,this.userCompany=n},submitRequest:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){var n,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.get("sessionID")||"",c=e.$refs.RequestDetail.innerText,t.next=4,BackEnd.sendBusinessRequest(n,e.currentService,c);case 4:if(r=t.sent,r&&r.ok){t.next=7;break}return t.abrupt("return");case 7:e.$refs.RequestDetail.innerHTML="";case 8:case"end":return t.stop()}}),t)})))()}}};n("9f07");ce.render=Y,ce.__scopeId="data-v-d4673a2c";t["default"]=ce},3904:function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["D"])("data-v-71eb554a");Object(c["t"])("data-v-71eb554a");var s={class:"footmark"};Object(c["r"])();var a=r((function(e,t){return Object(c["q"])(),Object(c["d"])("div",s,"© Copyright @ Head Tax Firm. All Rights Reserved.")}));n("7791");const i={};i.render=a,i.__scopeId="data-v-71eb554a";t["a"]=i},"4e82":function(e,t,n){"use strict";var c=n("23e7"),r=n("1c0b"),s=n("7b0b"),a=n("d039"),i=n("a640"),o=[],u=o.sort,l=a((function(){o.sort(void 0)})),b=a((function(){o.sort(null)})),d=i("sort"),h=l||!b||!d;c({target:"Array",proto:!0,forced:h},{sort:function(e){return void 0===e?u.call(s(this)):u.call(s(this),r(e))}})},"58c9":function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["D"])("data-v-722e7927");Object(c["t"])("data-v-722e7927");var s={class:"menubar_container"},a={class:"menu_group fixed_frame left"},i=Object(c["g"])("海德税务师"),o=Object(c["h"])("br",null,null,-1),u=Object(c["g"])("事务所"),l={class:"menu_group float_frame"},b=Object(c["f"])('<a class="menu_item" data-v-722e7927>服务项目</a><span class="center" data-v-722e7927><a class="menu_item" data-v-722e7927><i class="fa fas fa-search" data-v-722e7927></i></a></span><a class="menu_item" data-v-722e7927>最新消息</a><a class="menu_item" data-v-722e7927>法务动态</a>',4),d={class:"menu_group fixed_frame right"};Object(c["r"])();var h,v=r((function(e,t,n,r,h,v){return Object(c["q"])(),Object(c["d"])("div",s,[Object(c["h"])("div",{class:"inner_frame",fixed:h.forceFix||n.mustFix},[Object(c["h"])("div",a,[Object(c["h"])("img",{src:"/demo/taxsystem/pic/logo.jpg",onClick:t[1]||(t[1]=function(){return v.onPromote&&v.onPromote.apply(v,arguments)})}),Object(c["h"])("div",{class:"caption",onClick:t[2]||(t[2]=function(){return v.onPromote&&v.onPromote.apply(v,arguments)})},[i,o,u])]),Object(c["h"])("div",l,[Object(c["h"])("a",{class:"menu_item",onClick:t[3]||(t[3]=function(){return v.goServices&&v.goServices.apply(v,arguments)})},"业务咨询"),b]),Object(c["h"])("div",d,[Object(c["h"])("a",{class:"menu_item",href:"mailto:"+n.email},"联系我们",8,["href"])])],8,["fixed"])])}));n("4c53"),n("b0c0");EventMetro.sub("home_scroll",(function(e,t,n){h&&h.onScroll(n)}));var j={name:"HomeMenu",data:function(){return{forceFix:!1}},props:{email:"",mustFix:!1},mounted:function(){h=this},unmounted:function(){h=null},methods:{onScroll:function(e){this.forceFix=e},onPromote:function(){EventMetro.pub("promote")},goServices:function(){if("Services"===this.$route.name||"Home"===this.$route.name){var e=this.$route.query.hash;e?this.$router.push({path:"/services",query:{hash:e}}):this.$router.push({path:"/services"})}else this.$router.push({path:"/services"})}}};n("632e");j.render=v,j.__scopeId="data-v-722e7927";t["a"]=j},"632e":function(e,t,n){"use strict";n("64c4")},"64c4":function(e,t,n){},7791:function(e,t,n){"use strict";n("f4a8")},"91c7":function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["D"])("data-v-55ac0720");Object(c["t"])("data-v-55ac0720");var s={ref:"qrcode",class:"qrcode"};Object(c["r"])();var a,i=r((function(e,t,n,r,a,i){return Object(c["q"])(),Object(c["d"])("div",{class:"qrframe",show:a.showQR,onClick:t[1]||(t[1]=function(e){return a.showQR=!1})},[Object(c["h"])("div",s,null,512)],8,["show"])})),o=n("1da1");n("96cf"),n("4c53");EventMetro.sub("promote",(function(){a&&a.showPromote()}));var u={name:"QRCode",data:function(){return{showQR:!1}},mounted:function(){a=this},unmounted:function(){a=null},methods:{showPromote:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,c,r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=localStorage.get("sessionID"),n){t.next=4;break}return EventMetro.pub("show_login"),t.abrupt("return");case 4:return c=e.$route.query||void 0,r=c.hash,t.next=7,BackEnd.newPromote(n,r);case 7:if(s=t.sent,s){t.next=10;break}return t.abrupt("return");case 10:a=location.origin+"/promote/"+s,e.$refs.qrcode.innerHTML="",new QRCode(e.$refs.qrcode,{text:a,width:250,height:250,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}),i=e.$refs.qrcode.querySelector("img"),i.style.marginLeft="auto",i.style.marginRight="auto",i.style.maxWidth="100%",e.showQR=!0;case 18:case"end":return t.stop()}}),t)})))()}}};n("1734");u.render=i,u.__scopeId="data-v-55ac0720";t["a"]=u},"9f07":function(e,t,n){"use strict";n("ddc9")},cb9e:function(e,t,n){},ddc9:function(e,t,n){},f4a8:function(e,t,n){}}]);
//# sourceMappingURL=chunk-0332dfb6.999a84e8.js.map